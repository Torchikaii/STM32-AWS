 This File contains **global instructions** for WallpaperWebsite project and rules described in this file are **TOP level rules** which overrides other mismathing rules on other files (if any).

### Project Awareness & Context
- This is a project for STM32F407VG-DISC1 development board that uses STM32F407VGT6 MCU.
- Project made using STM32CubeIDE
- The STM32F407VG-DISC1 board has been reflashed to use J-Link, all the neccessary settings were configured under debug inside project's debugger settings.
- The only code user has added was `main.c`: ```C HAL_GPIO_WritePin(LD6_GPIO_Port, LD6_Pin, GPIO_PIN_SET);``` everything else CubeIDE has generated while creating project and selecting right board for it and initialising default peripherals using CubeMX (CubeMX is integrated into STM32CubeIDE and not used externally as separate software).

### Code Structure & Modularity

- Currently project has following structure:
```
Initial_project/
│
├─ AI/                         # AI-related notes and planning
│  ├─ cursor.md                # Cursor AI notes or config
│  ├─ INITIAL.md               # Initial project notes
│  └─ PRP.md                   # Project requirements/planning
│
├─ Core/                       # Main firmware source and headers
│  ├─ Inc/                     # Header files
│  │  ├─ main.h                        # Main header
│  │  ├─ stm32f4xx_hal_conf.h          # HAL configuration
│  │  └─ stm32f4xx_it.h                # Interrupt handlers header
│  │
│  ├─ Src/                     # Source files
│  │  ├─ main.c                        # Main application entry
│  │  ├─ stm32f4xx_hal_msp.c           # HAL MSP (MCU Support Package) init
│  │  ├─ stm32f4xx_it.c                # Interrupt handlers implementation
│  │  ├─ syscalls.c                    # System calls (low-level)
│  │  ├─ sysmem.c                      # System memory allocation
│  │  └─ system_stm32f4xx.c            # System initialization
│  │
│  └─ Startup/                 # Startup assembly
│     └─ startup_stm32f407vgtx.s       # Startup code for STM32F407VGTX
│
├─ Datasheets/                 # Reference documents
│  ├─ STM32F407VG-DISC1 board datasheet.pdf   # Board datasheet
│  ├─ STM32F407xx datasheet.pdf                # MCU datasheet
│  ├─ UM08001_JLink.pdf.sig                    # JLink doc signature
│  └─ UM08003_JFlash.pdf.sig                   # JFlash doc signature
│
├─ Debug/                      # Build output, object files, debug info
│   ...
├─ Drivers/                    # HAL, CMSIS, and peripheral drivers
│   ...
├─ Middlewares/                # USB Host libraries
│   ...
├─ USB_HOST/                   # USB Host app and config
│   ...
├─ Initial_project Debug.launch    # Debug configuration for IDE
├─ Initial_project.ioc             # CubeMX project configuration
├─ README.md                       # Project readme
├─ STM32F407VGTX_FLASH.ld          # Linker script (flash)
└─ STM32F407VGTX_RAM.ld            # Linker script (RAM)
```
- You may not write your own code outside autogenerated comment blocks like `/* USER CODE BEGIN 1 */`. Instead you should do it this way:
```C 
/* USER CODE BEGIN 1 */

void MyFunction () {

	// do something
}

/* USER CODE END 1 */

```

And not this way: 
```C

void MyFunction () {  // this line of code will be auto-deleted next time CubeMX touches it. Because it's outside comment block.
/* USER CODE BEGIN 1 */
	// do something
}

/* USER CODE END 1 */

```
because CubeMX regenerates code everytime you change something on the GUI, like for example you initialise another ADC in the GUI and then it will autogenerate code for you accordingly in the main.c file and other files. This autogenerated code will stay outside comment blocks

### Documentation & Explainability
- **Update `README.md`** when new features are added, dependencies change, or setup steps are modified. Also update the project's structure tree.
- **Comment non-obvious code** and ensure everything is understandable to a mid-level developer.
- When writing complex logic, **add an inline `# Reason:` comment** explaining the why, not just the what.

### AI Behavior Rules
- **Never assume missing context. Ask questions if uncertain.**
- **Never hallucinate libraries or functions** – only use known, verified Python packages.
- **Always confirm file paths and module names** exist before referencing them in code or tests.
- **Never delete or overwrite existing code** unless explicitly instructed.
- Don't be afraid to do **a lot of changes** and write **many lines of code** per prompt if needed. Small amounts of code for a big feature, thus **making it incomplete or partially complete, is discouraged**